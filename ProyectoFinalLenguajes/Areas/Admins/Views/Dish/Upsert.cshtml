@using ProyectoFinalLenguajes.Models

@model Dish

<form method="post" enctype="multipart/form-data">
    <input type="hidden" asp-for="Id" />
    <div class="border p-3 mt-4">
        <div class="row pb-2">
            <h2 class="text-primary">@(Model.Id == 0 ? "Add" : "Update") Dish </h2>
            <hr />
        </div>
        <div class="mb-3">

            <label asp-for="Name"></label>
            <input asp-for="Name" class="form-control" />

            <span asp-validation-for="Name" class="text-danger mx-1"></span>

        </div>

        <div class="mb-3">
            <label asp-for="Description"></label>
            <textarea asp-for="Description" class="form-control"></textarea>

            <span asp-validation-for="Description" class="text-danger mx-1"></span>
        </div>

        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <div class="mb-3">
                <img src="@Url.Content($"~/{Model.ImageUrl}")"
                     style="max-width:200px; max-height:200px;"
                     alt="Dish image" />
                <input asp-for="ImageUrl" type="hidden" />
            </div>
        }

        <div class="mb-3">
            <label asp-for="ImageUrl"></label>
            <input id="uploadBox" name="file" type="file" class="form-control" accept="image/*" />

        </div>

        <div class="mb-3">
            <label asp-for="Price"></label>
            <input type="number" asp-for="Price" class="form-control" />

            <span asp-validation-for="Price" class="text-danger mx-1"></span>
        </div>

        <div class="mb-3 form-check form-switch">
            <input asp-for="isAble"
                   class="form-check-input"
                   type="checkbox" />
            <label asp-for="isAble"
                   class="form-check-label"></label>
            <span asp-validation-for="isAble"
                  class="text-danger mx-1"></span>
        </div>

        <button type="submit" class="btn btn-primary" style="width: 100px">Save</button>
        <a asp-controller="Dish" asp-action="Index" class="btn btn-outline-light">Back to List</a>
    </div>

</form>

@section Scripts {
    @{

        <partial name="_ValidationScriptsPartial" />

        <script src="https://cdn.tiny.cloud/1/674ivyskjvpqrx2sw8ie1060kvzzw805rf04gm5wq2mu5kib/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>

        <script>
            tinymce.init({
              selector: 'textarea',
              plugins: 'anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks wordcount',
              toolbar: 'undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table | align lineheight | numlist bullist indent outdent | emoticons charmap | removeformat',
            });
        </script>
    }
}